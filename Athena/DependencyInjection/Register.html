<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.34.0">
<meta name="crystal_docs.project_version" content="0.10.0">
<meta name="crystal_docs.project_name" content="athena">


<link href="../../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="athena">
  <title>Athena::DependencyInjection::Register - athena 0.10.0</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../../";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../../index.html">
          athena
        </a>
      </h1>

      <span class="project-version">
        0.10.0
      </span>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="athena/ACF" data-name="acf">
      <a href="../../ACF.html">ACF</a>
      
    </li>
  
  <li class=" " data-id="athena/ADI" data-name="adi">
      <a href="../../ADI.html">ADI</a>
      
    </li>
  
  <li class=" " data-id="athena/AED" data-name="aed">
      <a href="../../AED.html">AED</a>
      
    </li>
  
  <li class=" " data-id="athena/ART" data-name="art">
      <a href="../../ART.html">ART</a>
      
    </li>
  
  <li class=" " data-id="athena/ASR" data-name="asr">
      <a href="../../ASR.html">ASR</a>
      
    </li>
  
  <li class=" " data-id="athena/ASRA" data-name="asra">
      <a href="../../ASRA.html">ASRA</a>
      
    </li>
  
  <li class="parent open current" data-id="athena/Athena" data-name="athena">
      <a href="../../Athena.html">Athena</a>
      
        <ul>
  
  <li class="parent " data-id="athena/Athena/Config" data-name="athena::config">
      <a href="../../Athena/Config.html">Config</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Config/Base" data-name="athena::config::base">
      <a href="../../Athena/Config/Base.html">Base</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Config/Configuration" data-name="athena::config::configuration">
      <a href="../../Athena/Config/Configuration.html">Configuration</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Config/ConfigurationResolver" data-name="athena::config::configurationresolver">
      <a href="../../Athena/Config/ConfigurationResolver.html">ConfigurationResolver</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Config/ConfigurationResolverInterface" data-name="athena::config::configurationresolverinterface">
      <a href="../../Athena/Config/ConfigurationResolverInterface.html">ConfigurationResolverInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent open current" data-id="athena/Athena/DependencyInjection" data-name="athena::dependencyinjection">
      <a href="../../Athena/DependencyInjection.html">DependencyInjection</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/DependencyInjection/Inject" data-name="athena::dependencyinjection::inject">
      <a href="../../Athena/DependencyInjection/Inject.html">Inject</a>
      
    </li>
  
  <li class=" current" data-id="athena/Athena/DependencyInjection/Register" data-name="athena::dependencyinjection::register">
      <a href="../../Athena/DependencyInjection/Register.html">Register</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/DependencyInjection/ServiceContainer" data-name="athena::dependencyinjection::servicecontainer">
      <a href="../../Athena/DependencyInjection/ServiceContainer.html">ServiceContainer</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena/Athena/EventDispatcher" data-name="athena::eventdispatcher">
      <a href="../../Athena/EventDispatcher.html">EventDispatcher</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/Event" data-name="athena::eventdispatcher::event">
      <a href="../../Athena/EventDispatcher/Event.html">Event</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/EventDispatcher" data-name="athena::eventdispatcher::eventdispatcher">
      <a href="../../Athena/EventDispatcher/EventDispatcher.html">EventDispatcher</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/EventDispatcherInterface" data-name="athena::eventdispatcher::eventdispatcherinterface">
      <a href="../../Athena/EventDispatcher/EventDispatcherInterface.html">EventDispatcherInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/EventListener" data-name="athena::eventdispatcher::eventlistener">
      <a href="../../Athena/EventDispatcher/EventListener.html">EventListener</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/EventListenerInterface" data-name="athena::eventdispatcher::eventlistenerinterface">
      <a href="../../Athena/EventDispatcher/EventListenerInterface.html">EventListenerInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/EventListenerType" data-name="athena::eventdispatcher::eventlistenertype">
      <a href="../../Athena/EventDispatcher/EventListenerType.html">EventListenerType</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/StoppableEvent" data-name="athena::eventdispatcher::stoppableevent">
      <a href="../../Athena/EventDispatcher/StoppableEvent.html">StoppableEvent</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/EventDispatcher/SubscribedEvents" data-name="athena::eventdispatcher::subscribedevents">
      <a href="../../Athena/EventDispatcher/SubscribedEvents.html">SubscribedEvents</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing" data-name="athena::routing">
      <a href="../../Athena/Routing.html">Routing</a>
      
        <ul>
  
  <li class="parent " data-id="athena/Athena/Routing/Action" data-name="athena::routing::action(controller, actiontype, returntype, argtypetuple, argumentstype)">
      <a href="../../Athena/Routing/Action.html">Action</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Action/View" data-name="athena::routing::action::view">
      <a href="../../Athena/Routing/Action/View.html">View</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ActionBase" data-name="athena::routing::actionbase">
      <a href="../../Athena/Routing/ActionBase.html">ActionBase</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Arguments" data-name="athena::routing::arguments">
      <a href="../../Athena/Routing/Arguments.html">Arguments</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/ArgumentMetadata" data-name="athena::routing::arguments::argumentmetadata(t)">
      <a href="../../Athena/Routing/Arguments/ArgumentMetadata.html">ArgumentMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/ArgumentResolver" data-name="athena::routing::arguments::argumentresolver">
      <a href="../../Athena/Routing/Arguments/ArgumentResolver.html">ArgumentResolver</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/ArgumentResolverInterface" data-name="athena::routing::arguments::argumentresolverinterface">
      <a href="../../Athena/Routing/Arguments/ArgumentResolverInterface.html">ArgumentResolverInterface</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Arguments/Resolvers" data-name="athena::routing::arguments::resolvers">
      <a href="../../Athena/Routing/Arguments/Resolvers.html">Resolvers</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/Resolvers/ArgumentValueResolverInterface" data-name="athena::routing::arguments::resolvers::argumentvalueresolverinterface">
      <a href="../../Athena/Routing/Arguments/Resolvers/ArgumentValueResolverInterface.html">ArgumentValueResolverInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/Resolvers/DefaultValue" data-name="athena::routing::arguments::resolvers::defaultvalue">
      <a href="../../Athena/Routing/Arguments/Resolvers/DefaultValue.html">DefaultValue</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/Resolvers/Request" data-name="athena::routing::arguments::resolvers::request">
      <a href="../../Athena/Routing/Arguments/Resolvers/Request.html">Request</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Arguments/Resolvers/RequestAttribute" data-name="athena::routing::arguments::resolvers::requestattribute">
      <a href="../../Athena/Routing/Arguments/Resolvers/RequestAttribute.html">RequestAttribute</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Config" data-name="athena::routing::config">
      <a href="../../Athena/Routing/Config.html">Config</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Config/CORS" data-name="athena::routing::config::cors">
      <a href="../../Athena/Routing/Config/CORS.html">CORS</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Controller" data-name="athena::routing::controller">
      <a href="../../Athena/Routing/Controller.html">Controller</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Delete" data-name="athena::routing::delete">
      <a href="../../Athena/Routing/Delete.html">Delete</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ErrorRenderer" data-name="athena::routing::errorrenderer">
      <a href="../../Athena/Routing/ErrorRenderer.html">ErrorRenderer</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ErrorRendererInterface" data-name="athena::routing::errorrendererinterface">
      <a href="../../Athena/Routing/ErrorRendererInterface.html">ErrorRendererInterface</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Events" data-name="athena::routing::events">
      <a href="../../Athena/Routing/Events.html">Events</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Events/Exception" data-name="athena::routing::events::exception">
      <a href="../../Athena/Routing/Events/Exception.html">Exception</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/Request" data-name="athena::routing::events::request">
      <a href="../../Athena/Routing/Events/Request.html">Request</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/RequestAware" data-name="athena::routing::events::requestaware">
      <a href="../../Athena/Routing/Events/RequestAware.html">RequestAware</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/Response" data-name="athena::routing::events::response">
      <a href="../../Athena/Routing/Events/Response.html">Response</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/SettableResponse" data-name="athena::routing::events::settableresponse">
      <a href="../../Athena/Routing/Events/SettableResponse.html">SettableResponse</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/Terminate" data-name="athena::routing::events::terminate">
      <a href="../../Athena/Routing/Events/Terminate.html">Terminate</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Events/View" data-name="athena::routing::events::view">
      <a href="../../Athena/Routing/Events/View.html">View</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Exceptions" data-name="athena::routing::exceptions">
      <a href="../../Athena/Routing/Exceptions.html">Exceptions</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/BadGateway" data-name="athena::routing::exceptions::badgateway">
      <a href="../../Athena/Routing/Exceptions/BadGateway.html">BadGateway</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/BadRequest" data-name="athena::routing::exceptions::badrequest">
      <a href="../../Athena/Routing/Exceptions/BadRequest.html">BadRequest</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/Conflict" data-name="athena::routing::exceptions::conflict">
      <a href="../../Athena/Routing/Exceptions/Conflict.html">Conflict</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/Forbidden" data-name="athena::routing::exceptions::forbidden">
      <a href="../../Athena/Routing/Exceptions/Forbidden.html">Forbidden</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/Gone" data-name="athena::routing::exceptions::gone">
      <a href="../../Athena/Routing/Exceptions/Gone.html">Gone</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/HTTPException" data-name="athena::routing::exceptions::httpexception">
      <a href="../../Athena/Routing/Exceptions/HTTPException.html">HTTPException</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/LengthRequired" data-name="athena::routing::exceptions::lengthrequired">
      <a href="../../Athena/Routing/Exceptions/LengthRequired.html">LengthRequired</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/MethodNotAllowed" data-name="athena::routing::exceptions::methodnotallowed">
      <a href="../../Athena/Routing/Exceptions/MethodNotAllowed.html">MethodNotAllowed</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/NotAcceptable" data-name="athena::routing::exceptions::notacceptable">
      <a href="../../Athena/Routing/Exceptions/NotAcceptable.html">NotAcceptable</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/NotFound" data-name="athena::routing::exceptions::notfound">
      <a href="../../Athena/Routing/Exceptions/NotFound.html">NotFound</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/NotImplemented" data-name="athena::routing::exceptions::notimplemented">
      <a href="../../Athena/Routing/Exceptions/NotImplemented.html">NotImplemented</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/PreconditionFailed" data-name="athena::routing::exceptions::preconditionfailed">
      <a href="../../Athena/Routing/Exceptions/PreconditionFailed.html">PreconditionFailed</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/ServiceUnavailable" data-name="athena::routing::exceptions::serviceunavailable">
      <a href="../../Athena/Routing/Exceptions/ServiceUnavailable.html">ServiceUnavailable</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/TooManyRequests" data-name="athena::routing::exceptions::toomanyrequests">
      <a href="../../Athena/Routing/Exceptions/TooManyRequests.html">TooManyRequests</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/Unauthorized" data-name="athena::routing::exceptions::unauthorized">
      <a href="../../Athena/Routing/Exceptions/Unauthorized.html">Unauthorized</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/UnprocessableEntity" data-name="athena::routing::exceptions::unprocessableentity">
      <a href="../../Athena/Routing/Exceptions/UnprocessableEntity.html">UnprocessableEntity</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Exceptions/UnsupportedMediaType" data-name="athena::routing::exceptions::unsupportedmediatype">
      <a href="../../Athena/Routing/Exceptions/UnsupportedMediaType.html">UnsupportedMediaType</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Get" data-name="athena::routing::get">
      <a href="../../Athena/Routing/Get.html">Get</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Link" data-name="athena::routing::link">
      <a href="../../Athena/Routing/Link.html">Link</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Listeners" data-name="athena::routing::listeners">
      <a href="../../Athena/Routing/Listeners.html">Listeners</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Listeners/CORS" data-name="athena::routing::listeners::cors">
      <a href="../../Athena/Routing/Listeners/CORS.html">CORS</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Listeners/Error" data-name="athena::routing::listeners::error">
      <a href="../../Athena/Routing/Listeners/Error.html">Error</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Listeners/ParamConverter" data-name="athena::routing::listeners::paramconverter">
      <a href="../../Athena/Routing/Listeners/ParamConverter.html">ParamConverter</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Listeners/Routing" data-name="athena::routing::listeners::routing">
      <a href="../../Athena/Routing/Listeners/Routing.html">Routing</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Listeners/View" data-name="athena::routing::listeners::view">
      <a href="../../Athena/Routing/Listeners/View.html">View</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ParamConverter" data-name="athena::routing::paramconverter">
      <a href="../../Athena/Routing/ParamConverter.html">ParamConverter</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/ParamConverterInterface" data-name="athena::routing::paramconverterinterface">
      <a href="../../Athena/Routing/ParamConverterInterface.html">ParamConverterInterface</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/ParamConverterInterface/Configuration" data-name="athena::routing::paramconverterinterface::configuration">
      <a href="../../Athena/Routing/ParamConverterInterface/Configuration.html">Configuration</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ParamConverterInterface/ConfigurationInterface" data-name="athena::routing::paramconverterinterface::configurationinterface">
      <a href="../../Athena/Routing/ParamConverterInterface/ConfigurationInterface.html">ConfigurationInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/ParameterBag" data-name="athena::routing::parameterbag">
      <a href="../../Athena/Routing/ParameterBag.html">ParameterBag</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Patch" data-name="athena::routing::patch">
      <a href="../../Athena/Routing/Patch.html">Patch</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Post" data-name="athena::routing::post">
      <a href="../../Athena/Routing/Post.html">Post</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Prefix" data-name="athena::routing::prefix">
      <a href="../../Athena/Routing/Prefix.html">Prefix</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Put" data-name="athena::routing::put">
      <a href="../../Athena/Routing/Put.html">Put</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/QueryParam" data-name="athena::routing::queryparam">
      <a href="../../Athena/Routing/QueryParam.html">QueryParam</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/RedirectResponse" data-name="athena::routing::redirectresponse">
      <a href="../../Athena/Routing/RedirectResponse.html">RedirectResponse</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/RequestStore" data-name="athena::routing::requeststore">
      <a href="../../Athena/Routing/RequestStore.html">RequestStore</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/Response" data-name="athena::routing::response">
      <a href="../../Athena/Routing/Response.html">Response</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/Response/DirectWriter" data-name="athena::routing::response::directwriter">
      <a href="../../Athena/Routing/Response/DirectWriter.html">DirectWriter</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Response/Writer" data-name="athena::routing::response::writer">
      <a href="../../Athena/Routing/Response/Writer.html">Writer</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Route" data-name="athena::routing::route">
      <a href="../../Athena/Routing/Route.html">Route</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/RouteHandler" data-name="athena::routing::routehandler">
      <a href="../../Athena/Routing/RouteHandler.html">RouteHandler</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/RouteResolver" data-name="athena::routing::routeresolver">
      <a href="../../Athena/Routing/RouteResolver.html">RouteResolver</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Routing/TimeConverter" data-name="athena::routing::timeconverter">
      <a href="../../Athena/Routing/TimeConverter.html">TimeConverter</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Routing/TimeConverter/Configuration" data-name="athena::routing::timeconverter::configuration">
      <a href="../../Athena/Routing/TimeConverter/Configuration.html">Configuration</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/Unlink" data-name="athena::routing::unlink">
      <a href="../../Athena/Routing/Unlink.html">Unlink</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Routing/View" data-name="athena::routing::view">
      <a href="../../Athena/Routing/View.html">View</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="athena/Athena/Serializer" data-name="athena::serializer">
      <a href="../../Athena/Serializer.html">Serializer</a>
      
        <ul>
  
  <li class="parent " data-id="athena/Athena/Serializer/Annotations" data-name="athena::serializer::annotations">
      <a href="../../Athena/Serializer/Annotations.html">Annotations</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Accessor" data-name="athena::serializer::annotations::accessor">
      <a href="../../Athena/Serializer/Annotations/Accessor.html">Accessor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/AccessorOrder" data-name="athena::serializer::annotations::accessororder">
      <a href="../../Athena/Serializer/Annotations/AccessorOrder.html">AccessorOrder</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Discriminator" data-name="athena::serializer::annotations::discriminator">
      <a href="../../Athena/Serializer/Annotations/Discriminator.html">Discriminator</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Exclude" data-name="athena::serializer::annotations::exclude">
      <a href="../../Athena/Serializer/Annotations/Exclude.html">Exclude</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/ExclusionPolicy" data-name="athena::serializer::annotations::exclusionpolicy">
      <a href="../../Athena/Serializer/Annotations/ExclusionPolicy.html">ExclusionPolicy</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Expose" data-name="athena::serializer::annotations::expose">
      <a href="../../Athena/Serializer/Annotations/Expose.html">Expose</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Groups" data-name="athena::serializer::annotations::groups">
      <a href="../../Athena/Serializer/Annotations/Groups.html">Groups</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/IgnoreOnDeserialize" data-name="athena::serializer::annotations::ignoreondeserialize">
      <a href="../../Athena/Serializer/Annotations/IgnoreOnDeserialize.html">IgnoreOnDeserialize</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/IgnoreOnSerialize" data-name="athena::serializer::annotations::ignoreonserialize">
      <a href="../../Athena/Serializer/Annotations/IgnoreOnSerialize.html">IgnoreOnSerialize</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Name" data-name="athena::serializer::annotations::name">
      <a href="../../Athena/Serializer/Annotations/Name.html">Name</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/PostDeserialize" data-name="athena::serializer::annotations::postdeserialize">
      <a href="../../Athena/Serializer/Annotations/PostDeserialize.html">PostDeserialize</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/PostSerialize" data-name="athena::serializer::annotations::postserialize">
      <a href="../../Athena/Serializer/Annotations/PostSerialize.html">PostSerialize</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/PreSerialize" data-name="athena::serializer::annotations::preserialize">
      <a href="../../Athena/Serializer/Annotations/PreSerialize.html">PreSerialize</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/ReadOnly" data-name="athena::serializer::annotations::readonly">
      <a href="../../Athena/Serializer/Annotations/ReadOnly.html">ReadOnly</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Since" data-name="athena::serializer::annotations::since">
      <a href="../../Athena/Serializer/Annotations/Since.html">Since</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Skip" data-name="athena::serializer::annotations::skip">
      <a href="../../Athena/Serializer/Annotations/Skip.html">Skip</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/SkipWhenEmpty" data-name="athena::serializer::annotations::skipwhenempty">
      <a href="../../Athena/Serializer/Annotations/SkipWhenEmpty.html">SkipWhenEmpty</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/Until" data-name="athena::serializer::annotations::until">
      <a href="../../Athena/Serializer/Annotations/Until.html">Until</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Annotations/VirtualProperty" data-name="athena::serializer::annotations::virtualproperty">
      <a href="../../Athena/Serializer/Annotations/VirtualProperty.html">VirtualProperty</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Any" data-name="athena::serializer::any">
      <a href="../../Athena/Serializer/Any.html">Any</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Context" data-name="athena::serializer::context">
      <a href="../../Athena/Serializer/Context.html">Context</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/DeserializationContext" data-name="athena::serializer::deserializationcontext">
      <a href="../../Athena/Serializer/DeserializationContext.html">DeserializationContext</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Serializer/ExclusionStrategies" data-name="athena::serializer::exclusionstrategies">
      <a href="../../Athena/Serializer/ExclusionStrategies.html">ExclusionStrategies</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Serializer/ExclusionStrategies/Disjunct" data-name="athena::serializer::exclusionstrategies::disjunct">
      <a href="../../Athena/Serializer/ExclusionStrategies/Disjunct.html">Disjunct</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/ExclusionStrategies/ExclusionStrategyInterface" data-name="athena::serializer::exclusionstrategies::exclusionstrategyinterface">
      <a href="../../Athena/Serializer/ExclusionStrategies/ExclusionStrategyInterface.html">ExclusionStrategyInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/ExclusionStrategies/Groups" data-name="athena::serializer::exclusionstrategies::groups">
      <a href="../../Athena/Serializer/ExclusionStrategies/Groups.html">Groups</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/ExclusionStrategies/Version" data-name="athena::serializer::exclusionstrategies::version">
      <a href="../../Athena/Serializer/ExclusionStrategies/Version.html">Version</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Format" data-name="athena::serializer::format">
      <a href="../../Athena/Serializer/Format.html">Format</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/InstantiateObjectConstructor" data-name="athena::serializer::instantiateobjectconstructor">
      <a href="../../Athena/Serializer/InstantiateObjectConstructor.html">InstantiateObjectConstructor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Model" data-name="athena::serializer::model">
      <a href="../../Athena/Serializer/Model.html">Model</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Serializer/Navigators" data-name="athena::serializer::navigators">
      <a href="../../Athena/Serializer/Navigators.html">Navigators</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/DeserializationNavigator" data-name="athena::serializer::navigators::deserializationnavigator">
      <a href="../../Athena/Serializer/Navigators/DeserializationNavigator.html">DeserializationNavigator</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/DeserializationNavigatorInterface" data-name="athena::serializer::navigators::deserializationnavigatorinterface">
      <a href="../../Athena/Serializer/Navigators/DeserializationNavigatorInterface.html">DeserializationNavigatorInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/NavigatorFactory" data-name="athena::serializer::navigators::navigatorfactory">
      <a href="../../Athena/Serializer/Navigators/NavigatorFactory.html">NavigatorFactory</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/NavigatorFactoryInterface" data-name="athena::serializer::navigators::navigatorfactoryinterface">
      <a href="../../Athena/Serializer/Navigators/NavigatorFactoryInterface.html">NavigatorFactoryInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/SerializationNavigator" data-name="athena::serializer::navigators::serializationnavigator">
      <a href="../../Athena/Serializer/Navigators/SerializationNavigator.html">SerializationNavigator</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Navigators/SerializationNavigatorInterface" data-name="athena::serializer::navigators::serializationnavigatorinterface">
      <a href="../../Athena/Serializer/Navigators/SerializationNavigatorInterface.html">SerializationNavigatorInterface</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/ObjectConstructorInterface" data-name="athena::serializer::objectconstructorinterface">
      <a href="../../Athena/Serializer/ObjectConstructorInterface.html">ObjectConstructorInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/PropertyMetadata" data-name="athena::serializer::propertymetadata(ivartype, valuetype, classtype)">
      <a href="../../Athena/Serializer/PropertyMetadata.html">PropertyMetadata</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/PropertyMetadataBase" data-name="athena::serializer::propertymetadatabase">
      <a href="../../Athena/Serializer/PropertyMetadataBase.html">PropertyMetadataBase</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Serializable" data-name="athena::serializer::serializable">
      <a href="../../Athena/Serializer/Serializable.html">Serializable</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/SerializationContext" data-name="athena::serializer::serializationcontext">
      <a href="../../Athena/Serializer/SerializationContext.html">SerializationContext</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Serializer" data-name="athena::serializer::serializer">
      <a href="../../Athena/Serializer/Serializer.html">Serializer</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/SerializerInterface" data-name="athena::serializer::serializerinterface">
      <a href="../../Athena/Serializer/SerializerInterface.html">SerializerInterface</a>
      
    </li>
  
  <li class="parent " data-id="athena/Athena/Serializer/Visitors" data-name="athena::serializer::visitors">
      <a href="../../Athena/Serializer/Visitors.html">Visitors</a>
      
        <ul>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/DeserializationVisitor" data-name="athena::serializer::visitors::deserializationvisitor">
      <a href="../../Athena/Serializer/Visitors/DeserializationVisitor.html">DeserializationVisitor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/DeserializationVisitorInterface" data-name="athena::serializer::visitors::deserializationvisitorinterface">
      <a href="../../Athena/Serializer/Visitors/DeserializationVisitorInterface.html">DeserializationVisitorInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/JSONDeserializationVisitor" data-name="athena::serializer::visitors::jsondeserializationvisitor">
      <a href="../../Athena/Serializer/Visitors/JSONDeserializationVisitor.html">JSONDeserializationVisitor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/JSONSerializationVisitor" data-name="athena::serializer::visitors::jsonserializationvisitor">
      <a href="../../Athena/Serializer/Visitors/JSONSerializationVisitor.html">JSONSerializationVisitor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/SerializationVisitorInterface" data-name="athena::serializer::visitors::serializationvisitorinterface">
      <a href="../../Athena/Serializer/Visitors/SerializationVisitorInterface.html">SerializationVisitorInterface</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/YAMLDeserializationVisitor" data-name="athena::serializer::visitors::yamldeserializationvisitor">
      <a href="../../Athena/Serializer/Visitors/YAMLDeserializationVisitor.html">YAMLDeserializationVisitor</a>
      
    </li>
  
  <li class=" " data-id="athena/Athena/Serializer/Visitors/YAMLSerializationVisitor" data-name="athena::serializer::visitors::yamlserializationvisitor">
      <a href="../../Athena/Serializer/Visitors/YAMLSerializationVisitor.html">YAMLSerializationVisitor</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">annotation</span> Athena::DependencyInjection::Register

</h1>





  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Registers a service based on the type the annotation is applied to.</p>

<p>The type of the service affects how it behaves within the container.  When a <code>struct</code> service is retrieved or injected into a type, it will be a copy of the one in the SC (passed by value).
This means that changes made to it in one type, will <em>NOT</em> be reflected in other types.  A <code>class</code> service on the other hand will be a reference to the one in the SC.  This allows it
to share state between services.</p>

<h2><a id="optional-arguments" class="anchor" href="#optional-arguments">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Optional Arguments</h2>

<p>In most cases, the annotation can be applied without additional arguments.  However, the annotation accepts a handful of optional arguments to fine tune how the service is registered.</p>

<ul><li><code>name : String</code>- The name of the service.  Should be unique.  Defaults to the type's FQN snake cased.</li><li><code>public : Bool</code> - If the service should be directly accessible from the container.  Defaults to <code>false</code>.</li><li><code>public_alias : Bool</code> - If a service should be directly accessible from the container via an alias.  Defaults to <code>false</code>.</li><li><code>lazy : Bool</code> - If the service should be lazily instantiated.  I.e. only instantiated when it is first accessed; either directly or as a dependency of another service.  Defaults to <code>true</code>.</li><li><code>alias : T</code> - Injects <code>self</code> when this type is used as a type restriction.  See the Aliasing Services example for more information.</li><li><code>tags : Array(String | NamedTuple(name: String, priority: Int32?))</code> - Tags that should be assigned to the service.  Defaults to an empty array.  See the <a href="./Register.html#tagging-services" target="_blank">Tagging Services</a> example for more information.</li></ul>

<h2><a id="examples" class="anchor" href="#examples">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Examples</h2>

<h3><a id="basic-usage" class="anchor" href="#basic-usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Basic Usage</h3>

<p>The simplest usage involves only applying the <code><a href="../../Athena/DependencyInjection/Register.html">ADI::Register</a></code> annotation to a type.  If the type does not have any arguments, then it is simply registered as a service as is.  If the type <em>does</em> have arguments, then an attempt is made to register the service by automatically resolving dependencies based on type restrictions.</p>

<pre><code>@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="c"># Register a service without any dependencies.</span>
<span class="k">struct</span> <span class="t">ShoutTransformer</span>
  <span class="k">def</span> <span class="m">transform</span>(value : <span class="t">String</span>) : <span class="t">String</span>
    value.upcase
  <span class="k">end</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(public: <span class="n">true</span>)]
<span class="c"># The ShoutTransformer is injected based on the type restriction of the `transformer` argument.</span>
<span class="k">struct</span> <span class="t">SomeAPIClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(@transformer : <span class="t">ShoutTransformer</span>); <span class="k">end</span>

  <span class="k">def</span> <span class="m">send</span>(message : <span class="t">String</span>)
    message <span class="o">=</span> @transformer.transform message

    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.some_api_client.send <span class="s">&quot;foo&quot;</span> <span class="c"># =&gt; FOO</span></code></pre>

<h3><a id="aliasing-services" class="anchor" href="#aliasing-services">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Aliasing Services</h3>

<p>An important part of DI is building against interfaces as opposed to concrete types.  This allows a type to depend upon abstractions rather than a specific implementation of the interface.
Or in other words, prevents a singular implementation from being tightly coupled with another type.</p>

<p>We can use the <code>alias</code> argument when registering a service to tell the container that it should inject this service when a type restriction for the aliased service is found.</p>

<pre><code><span class="c"># Define an interface for our services to use.</span>
<span class="k">module</span> <span class="t">TransformerInterface</span>
  <span class="k">abstract</span> <span class="k">def</span> <span class="m">transform</span>(value : <span class="t">String</span>) : <span class="t">String</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(<span class="k">alias</span>: <span class="t">TransformerInterface</span>)]
<span class="c"># Alias the `TransformerInterface` to this service.</span>
<span class="k">struct</span> <span class="t">ShoutTransformer</span>
  <span class="k">include</span> <span class="t">TransformerInterface</span>

  <span class="k">def</span> <span class="m">transform</span>(value : <span class="t">String</span>) : <span class="t">String</span>
    value.upcase
  <span class="k">end</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="c"># Define another transformer type.</span>
<span class="k">struct</span> <span class="t">ReverseTransformer</span>
  <span class="k">include</span> <span class="t">TransformerInterface</span>

  <span class="k">def</span> <span class="m">transform</span>(value : <span class="t">String</span>) : <span class="t">String</span>
    value.reverse
  <span class="k">end</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(public: <span class="n">true</span>)]
<span class="c"># The `ShoutTransformer` is injected because the `TransformerInterface` is aliased to the `ShoutTransformer`.</span>
<span class="k">struct</span> <span class="t">SomeAPIClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(@transformer : <span class="t">TransformerInterface</span>); <span class="k">end</span>

  <span class="k">def</span> <span class="m">send</span>(message : <span class="t">String</span>)
    message <span class="o">=</span> @transformer.transform message

    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.some_api_client.send <span class="s">&quot;foo&quot;</span> <span class="c"># =&gt; FOO</span></code></pre>

<p>Any service that uses <code>TransformerInterface</code> as a dependency type restriction will get the <code>ShoutTransformer</code>.
However, it is also possible to use a specific implementation while still building against the interface.  The name of the constructor argument is used in part to resolve the dependency.</p>

<pre><code>@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(public: <span class="n">true</span>)]
<span class="c"># The `ReverseTransformer` is injected because the constructor argument&#39;s name matches the service name of `ReverseTransformer`.</span>
<span class="k">struct</span> <span class="t">SomeAPIClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(reverse_transformer : <span class="t">TransformerInterface</span>)
    @transformer <span class="o">=</span> reverse_transformer
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">send</span>(message : <span class="t">String</span>)
    message <span class="o">=</span> @transformer.transform message

    <span class="c"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.some_api_client.send <span class="s">&quot;foo&quot;</span> <span class="c"># =&gt; oof</span></code></pre>

<h3><a id="scalar-arguments" class="anchor" href="#scalar-arguments">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Scalar Arguments</h3>

<p>The auto registration logic as shown in previous examples only works on service dependencies.  Scalar arguments, such as Arrays, Strings, NamedTuples, etc, must be defined manually.
This is achieved by using the argument's name prefixed with a <code>_</code> symbol as named arguments within the annotation.</p>

<pre><code>@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_shell: <span class="t">ENV</span>[<span class="s">&quot;SHELL&quot;</span>], _config: {id: <span class="n">12_i64</span>, active: <span class="n">true</span>}, public: <span class="n">true</span>)]
<span class="k">struct</span> <span class="t">ScalarClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(@shell : <span class="t">String</span>, @config : <span class="t">NamedTuple</span>(id: <span class="t">Int64</span>, active: <span class="t">Bool</span>)); <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.scalar_client <span class="c"># =&gt; ScalarClient(@config={id: 12, active: true}, @shell=&quot;/bin/bash&quot;)</span></code></pre>

<p>Arrays can also include references to services by prefixing the name of the service with an <code>@</code> symbol.</p>

<pre><code><span class="k">module</span> <span class="t">Interface</span>; <span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="k">struct</span> <span class="t">One</span>
  <span class="k">include</span> <span class="t">Interface</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="k">struct</span> <span class="t">Two</span>
  <span class="k">include</span> <span class="t">Interface</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="k">struct</span> <span class="t">Three</span>
  <span class="k">include</span> <span class="t">Interface</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_services: [<span class="s">&quot;@one&quot;</span>, <span class="s">&quot;@three&quot;</span>], public: <span class="n">true</span>)]
<span class="k">struct</span> <span class="t">ArrayClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(@services : <span class="t">Array</span>(<span class="t">Interface</span>)); <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.array_client <span class="c"># =&gt; ArrayClient(@services=[One(), Three()])</span></code></pre>

<p>While scalar arguments cannot be auto registered by default, the <code><a href="../../Athena/DependencyInjection.html#bind(key,value)-macro">Athena::DependencyInjection.bind</a></code> macro can be used to support it.  For example: <code>ADI.bind shell, "bash"</code>.
This would now inject the string <code>"bash"</code> whenever an argument named <code>shell</code> is encountered.</p>

<h3><a id="tagging-services" class="anchor" href="#tagging-services">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Tagging Services</h3>

<p>Services can also be tagged.  Service tags allows another service to have all services with a specific tag injected as a dependency.
A tag consists of a name, and additional metadata related to the tag.
Currently the only supported metadata value is <code>priority</code>, which controls the order in which the services are injected; the higher the priority
the sooner in the array it would be.  In the future support for custom tag metadata will be implemented.</p>

<p>The <code><a href="../../Athena/DependencyInjection.html#auto_configure(type,options)-macro">Athena::DependencyInjection.auto_configure</a></code> macro may also be used to make working with tags easier.</p>

<pre><code><span class="t">PARTNER_TAG</span> <span class="o">=</span> <span class="s">&quot;partner&quot;</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_id: <span class="n">1</span>, name: <span class="s">&quot;google&quot;</span>, tags: [{name: <span class="t">PARTNER_TAG</span>, priority: <span class="n">5</span>}])]
@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_id: <span class="n">2</span>, name: <span class="s">&quot;facebook&quot;</span>, tags: [<span class="t">PARTNER_TAG</span>])]
@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_id: <span class="n">3</span>, name: <span class="s">&quot;yahoo&quot;</span>, tags: [{name: <span class="s">&quot;partner&quot;</span>, priority: <span class="n">10</span>}])]
@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_id: <span class="n">4</span>, name: <span class="s">&quot;microsoft&quot;</span>, tags: [<span class="t">PARTNER_TAG</span>])]
<span class="c"># Register multiple services based on the same type.  Each service must give define a unique name.</span>
record <span class="t">FeedPartner</span>, id : <span class="t">Int32</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(_services: <span class="s">&quot;!partner&quot;</span>, public: <span class="n">true</span>)]
<span class="c"># Inject all services with the `&quot;partner&quot;` tag into `self`.</span>
<span class="k">class</span> <span class="t">PartnerClient</span>
  <span class="k">def</span> <span class="m">initialize</span>(@services : <span class="t">Array</span>(<span class="t">FeedPartner</span>)); <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.partner_client <span class="c"># =&gt;</span>
<span class="c"># #&lt;PartnerClient:0x7f43c0a1ae60</span>
<span class="c">#  @services=</span>
<span class="c">#   [FeedPartner(@id=3, @name=&quot;Yahoo&quot;),</span>
<span class="c">#    FeedPartner(@id=1, @name=&quot;Google&quot;),</span>
<span class="c">#    FeedPartner(@id=2, @name=&quot;Facebook&quot;),</span>
<span class="c">#    FeedPartner(@id=4, @name=&quot;Microsoft&quot;)]&gt;</span></code></pre>

<p>While tagged services cannot be injected automatically by default, the <code><a href="../../Athena/DependencyInjection.html#bind(key,value)-macro">Athena::DependencyInjection.bind</a></code> macro can be used to support it.  For example: <code>ADI.bind partners, "!partner"</code>.
This would now inject all services with the <code>partner</code> tagged when an argument named <code>partners</code> is encountered.
A type restriction can also be added to the binding to allow reusing the name.  See the documentation for <code><a href="../../Athena/DependencyInjection.html#bind(key,value)-macro">Athena::DependencyInjection.bind</a></code> for an example.</p>

<h3><a id="optional-services" class="anchor" href="#optional-services">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Optional Services</h3>

<p>Services defined with a nillable type restriction are considered to be optional.  If no service could be resolved from the type, then <code>nil</code> is injected instead.
Similarly, if the argument has a default value, that value would be used instead.</p>

<pre><code><span class="k">struct</span> <span class="t">OptionalMissingService</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>]
<span class="k">struct</span> <span class="t">OptionalExistingService</span>
<span class="k">end</span>

@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(public: <span class="n">true</span>)]
<span class="k">class</span> <span class="t">OptionalClient</span>
  getter service_missing, service_existing, service_default

  <span class="k">def</span> <span class="m">initialize</span>(
    @service_missing : <span class="t">OptionalMissingService</span>?,
    @service_existing : <span class="t">OptionalExistingService</span>?,
    @service_default : <span class="t">OptionalMissingService</span> <span class="o">|</span> <span class="t">Int32</span> <span class="o">|</span> <span class="t">Nil</span> <span class="o">=</span> <span class="n">12</span>
  ); <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.optional_client
<span class="c"># #&lt;OptionalClient:0x7fe7de7cdf40</span>
<span class="c">#  @service_default=12,</span>
<span class="c">#  @service_existing=OptionalExistingService(),</span>
<span class="c">#  @service_missing=nil&gt;</span></code></pre>

<h3><a id="generic-services" class="anchor" href="#generic-services">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Generic Services</h3>

<p>Generic arguments can be provided as positional arguments within the <code><a href="../../Athena/DependencyInjection/Register.html">ADI::Register</a></code> annotation.</p>

<p><span class="flag purple">NOTE</span>  Services based on generic types <em>MUST</em> explicitly provide a name via the <code>name</code> field within the <code><a href="../../Athena/DependencyInjection/Register.html">ADI::Register</a></code> annotation
since there wouldn't be a way to tell them apart from the class name alone.</p>

<pre><code>@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(<span class="t">Int32</span>, <span class="t">Bool</span>, name: <span class="s">&quot;int_service&quot;</span>, public: <span class="n">true</span>)]
@[<span class="t">ADI</span><span class="t">::</span><span class="t">Register</span>(<span class="t">Float64</span>, <span class="t">Bool</span>, name: <span class="s">&quot;float_service&quot;</span>, public: <span class="n">true</span>)]
<span class="k">struct</span> <span class="t">GenericService</span>(<span class="t">T</span>, <span class="t">B</span>)
  <span class="k">def</span> <span class="m">type</span>
    {<span class="t">T</span>, <span class="t">B</span>}
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">ADI</span>.container.int_service.<span class="k">type</span>   <span class="c"># =&gt; {Int32, Bool}</span>
<span class="t">ADI</span>.container.float_service.<span class="k">type</span> <span class="c"># =&gt; {Float64, Bool}</span></code></pre>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  













<div class="methods-inherited">
  
</div>









</div>

</body>
</html>
